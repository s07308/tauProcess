---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# tauProcess

<!-- badges: start -->
[![](https://cranlogs.r-pkg.org/badges/tauProcess)](https://cran.r-project.org/package=tauProcess)
<!-- badges: end -->

Non-proportional hazard (NPH) scenarios are common in clinical trials. Under NPH, the commonly used log-rank test may lose power, and the hazard ratio may no longer be a meaningful measure of treatment effect. The proposed tau process adheres to the addendum to ICH E9, which emphasizes the use of an Estimand defined as "a precise description of the treatment effect reflecting the clinical question posed by a given clinical trial objective." At each failure time in one group, the survival probability of the other group at that time is calculated and compared. The tau process sums over the differences in probabilities up to time t, providing an intuitive visual aid for assessing the cumulative treatment effect over time. An increasing trend of tau(t) in some interval of t indicates that Group 1 consistently shows its efficacy during this time period. When tau(t) is positive, subjects in Group 1 have longer survival compared to those in Group 0 up to time t. 

For the details or theoretical investigation of the tau process method, the article has been published in *Pharmaceutical Statistics*: [Two-sample inference procedures under nonproportional hazards](https://doi.org/10.1002/pst.2324) by Yi-Cheng Tai, Weijing Wang and Martin T. Wells. 

## Installation

You can install the development version of tauProcess from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("s07308/tauProcess")
```

## Usage & Example

This is a basic example which shows you how to estimate the tau process and make the corresponding statistical inference:

```{r example}
library(tauProcess)
fit <- tau.fit(data = pbc)
```

You may use `summary()` to check the inference results at the largest time specified:
```{r inference}
summary(fit)
```

Furthermore, `plot()` will provide you the estimated tau process to investigate the progression of treatment effect: 
```{r tau-process}
plot(fit, type = "b")
```

